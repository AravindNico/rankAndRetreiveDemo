# Rank and Retrieve demo Event handler - Pubnub Block (Functions)

## Pubnub Block (function) Creation

## Step 1 :

Login to the Pubnub account with the valid credentials.

![alt-tag](https://github.com/AravindNico/rankAndRetreiveDemo/blob/master/screenshots/block/pubnub_blockappCreation.png)

## Step 2 :

Click the "CREATE NEW APP" by giving a name to your APP.

![alt-tag](https://github.com/AravindNico/rankAndRetreiveDemo/blob/master/screenshots/block/listofapps.png)

## Step 3 :

Click on the newly created APP.You can see the Demo keyset for the new application created.

## Step 4 :

Click on the Demo keyset and click on the (Blocks) Functions (on the left side).

![alt-tag](https://github.com/AravindNico/rankAndRetreiveDemo/blob/master/screenshots/block/pubnub_keys.png)

## Step 5 :

Create a new Block by giving the block name and description to the block.

![alt-tag](https://github.com/AravindNico/rankAndRetreiveDemo/blob/master/screenshots/block/block_rr_app.png)

## Step 6 :

Create the Event Handler by clicking CREATE button at the bottom.

![alt-tag](https://github.com/AravindNico/rankAndRetreiveDemo/blob/master/screenshots/block/startEH.png)

## Step 7 :

Give the Name of the Event handler, Channel to communicate with the block and the option of when block code should execute (Before Publish or Fire) .

![alt-tag](https://github.com/AravindNico/rankAndRetreiveDemo/blob/master/screenshots/block/block_channel_creation.png)

## Step 8 :

Copy the block code in the text area from [here](https://github.com/AravindNico/rankAndRetreiveDemo/blob/master/block/cameraBlock.js), and save it. Update the Watson Rank and Retrieve API credentials on the code 
( As per step 4 of "Watson Rank and Retrieve API" section in main [README](https://github.com/AravindNico/rankAndRetreiveDemo/blob/master/README.md) file)

## Step 9 :

Click on the Start module button(top right) to start the block.

![alt-tag](https://github.com/AravindNico/rankAndRetreiveDemo/blob/master/screenshots/block/block_start.png)

## Step 10 :

Your block code is now running.

![alt-tag](https://github.com/AravindNico/rankAndRetreiveDemo/blob/master/screenshots/block/block_running.png)
